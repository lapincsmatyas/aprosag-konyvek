<div class="cart-page-container">
  <h1 class="title">Kosár</h1>
  <div class="cart-table-container">
    <table class="table">
      <thead class="table-header">
      <tr>
        <th class="header-text" scope="col"></th>
        <th class="header-text image" scope="col">Kép</th>
        <th class="header-text" scope="col">Termék</th>
        <th class="header-text" scope="col">Ár</th>
        <th class="header-text amount" scope="col">Mennyiség</th>
        <th class="header-text" scope="col">Részösszeg</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of cartService.items">
        <td class="delete-icon-container">
           <span class="delete-icon" (click)="removeItemFromCart(item)">
             <img src="assets/Icons/Delete_Cart.svg" height="30px"/>
          </span>
        <td>
        <div class="cart-item-image-container" *ngIf="item.item.image_urls">
          <img class="cart-item-image" [src]="'assets/' + item.item.image_urls[0]"/>
        </div>
        </td>
        <td>
          <div class="item-title">{{item.item.title}}</div>
          <div>{{item.item.subtitle}}</div>
        </td>
        <td>{{item.item.price}} Ft</td>
        <td class="amount">
          <aprosag-stepper [allowZero]="false" [value]="item.amount" (valueChange)="amountChanged($event, item)"></aprosag-stepper>
        </td>
        <td>{{item.item.price ? item.item.price * item.amount : 0}} Ft</td>
      </tr>
      <tr *ngIf="cartService.count === 0">
        <td colspan="6">A kosarad üres</td>
      </tr>
      </tbody>
    </table>

    <table class="mobile-table">
      <thead class="table-header">
      <tbody>
      <tr *ngFor="let item of cartService.items">
        <td class="delete-icon-container">
           <span class="delete-icon" (click)="removeItemFromCart(item)">
             <img src="assets/Icons/Delete_Cart.svg" height="30px"/>
          </span>
        <td>
        <div class="cart-item-image-container" *ngIf="item.item.image_urls">
          <img class="cart-item-image" [src]="'assets/' + item.item.image_urls[0]"/>
        </div>
        </td>
        <td class="item-details-container">
          <div class="item-title">{{item.item.title}}</div>
          <div>{{item.item.subtitle}}</div>

          <div class="stepper-container">
            <aprosag-stepper [allowZero]="false" [value]="item.amount" (valueChange)="amountChanged($event, item)"></aprosag-stepper>
          </div>
          <div class="price-container">
            <span>{{item.amount}}x {{item.item.price}} Ft</span><span>
              {{item.item.price ? item.item.price * item.amount : 0}} Ft
            </span></div>
        </td>
      </tr>
      <tr *ngIf="cartService.count === 0">
        <td colspan="6">A kosarad üres</td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="button-container">
    <button class="button back-to-shop" (click)="continueShopping()">Vásárlás folytatása</button>
  </div>
  <div class="newsletter-and-shipping">
    <div class="shipping-options-container">
      <div class="header">
        <span class="text">Kosár összesen</span>
      </div>
      <div class="content">
        <div class="table-row">
          <span class="table-title">Részösszeg</span>
          <span>{{cartService.value}} Ft</span>
        </div>
        <div class="table-row">
          <div class="table-title shipment">Szállítás</div>
          <aprosag-shipping-options></aprosag-shipping-options>
        </div>
        <div class="table-row">
          <span class="table-title">Összeg</span>
          <span>{{cartService.value + cartService.selectedShippingType.value}} Ft</span>
        </div>
      </div>
    </div>
  </div>

  <div class="button-container" *ngIf="cartService.count > 0">
    <button class="button to-the-cashdesk" (click)="goToDesk()">Tovább a pénztárhoz</button>
  </div>
</div>
